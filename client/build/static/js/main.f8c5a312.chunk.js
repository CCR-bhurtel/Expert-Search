(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,a){"use strict";a.r(t),a.d(t,"setAlert",(function(){return s}));var n=a(90),c=a(20),s=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3;return function(s){var r=n.a();s({type:c.SET_ALERT,payload:{msg:e,alertType:t,id:r}}),setTimeout((function(){return s({type:c.REMOVE_ALERT,payload:r})}),a)}}},20:function(e,t,a){"use strict";a.r(t),a.d(t,"SET_ALERT",(function(){return n})),a.d(t,"REMOVE_ALERT",(function(){return c})),a.d(t,"REGISTER_SUCCESS",(function(){return s})),a.d(t,"REGISTER_FAIL",(function(){return r})),a.d(t,"LOGIN_SUCCESS",(function(){return i})),a.d(t,"LOGIN_FAIL",(function(){return l})),a.d(t,"LOG_OUT",(function(){return o})),a.d(t,"CLEAR_PROFILE",(function(){return u})),a.d(t,"USER_LOADED",(function(){return d})),a.d(t,"AUTH_ERROR",(function(){return j})),a.d(t,"TOGGLE_LOGIN",(function(){return m})),a.d(t,"TOGGLE_SIGNUP",(function(){return b}));var n="SET_ALERT",c="REMOVE_ALERT",s="REGISTER_SUCCESS",r="REGISTER_FAIL",i="LOGIN_SUCCESS",l="LOGIN_FAILED",o="LOG_OUT",u="CLEAR_PROFILE",d="USER_LOADED",j="AUTH_ERROR",m="show-login",b="toggle-signup"},32:function(e,t,a){},44:function(e,t,a){},52:function(e,t,a){},59:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(19),r=a.n(s),i=(a(52),a(22)),l=a(10),o=a(7),u=a.p+"static/media/spinner.34a9c83e.gif",d=a(0);function j(){return Object(d.jsx)(n.Fragment,{children:Object(d.jsx)("img",{src:u,alt:"Loading...",style:{width:"200px",margin:"auto",display:"block"}})})}a(59);var m=Object(o.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.auth.user;return Object(d.jsxs)("div",{className:"admin-nav-container",children:[Object(d.jsx)("div",{onClick:function(){document.querySelector(".adminNav").classList.add("active")},className:"bars",children:Object(d.jsx)("div",{className:"bar"})}),Object(d.jsxs)("nav",{className:"adminNav",children:[Object(d.jsx)("div",{onClick:function(){document.querySelector(".adminNav").classList.remove("active")},className:"times",children:Object(d.jsx)("div",{className:"time"})}),Object(d.jsxs)("ul",{className:"admin-links",children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)("a",{href:"/admin",className:"nav-link newusers",children:"New Users"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)("a",{href:"/admin/newExperts",className:"nav-link newexperts",children:"New Experts"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)("a",{href:"/admin/lawProfessionals",className:"nav-link lawprofessionals",children:"Law Professionals"})}),Object(d.jsx)("li",{className:"nav-item admin-nav-item",children:Object(d.jsx)("p",{className:"nav-item",children:Object(d.jsx)("a",{href:"/admin/expertWitness",className:"nav-link expertwitness",children:"Expert witness"})})})]})]}),Object(d.jsx)("ul",{style:{listStyle:"none"},className:"admin-nav-collection",children:Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)("p",{style:{color:"rgba(50, 99, 131, 1)",marginRight:"30px"},id:"username",children:t.name})})})]})})),b=a(5),p=a.n(b),h=a(3),O=a(2),x=a(6),f=a(4),v=a(13),g=a(9),y=a.n(g);a(32);var A=Object(o.b)(null,{setAlert:v.setAlert})((function(e){var t=this,a=Object(n.useState)({salutation:"Dr",Fname:"",LName:"",jobTitle:"",area:"",medicoLegalSecrtaryPhone:"",medicoLegalPostcode1:"",emailMedicoLegalMatters:"",GMC:"",email:"",qualifications:"",specialInterests:"",website:"",company:"",cv:"",medicoLegalSummary:"",approved:!1}),c=Object(f.a)(a,2),s=c[0],r=c[1],i=function(){var t=Object(x.a)(p.a.mark((function t(a){var n,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),n=s.approved?"/api/experts/adminCreateExpert":"/api/experts",c=document.querySelector("#cv1"),y.a.post(n,Object(O.a)({},s)).then((function(t){if(c.files.length){var a=new FormData;a.append("".concat(s.Fname,"-").concat(s.medicoLegalSecrtaryPhone),c.files[0]),y()({method:"POST",url:"/api/experts/postCv",headers:{id:t.data.expert._id,filename:"".concat(s.Fname,"-").concat(s.medicoLegalSecrtaryPhone)},data:a}).then((function(t){var a;e.setAlert("New Expert created","success"),r((a={Fname:"",LName:"",jobTitle:"",area:""},Object(h.a)(a,"jobTitle",""),Object(h.a)(a,"medicoLegalSecrtaryPhone",""),Object(h.a)(a,"medicoLegalPostcode1",""),Object(h.a)(a,"emailMedicoLegalMatters",""),Object(h.a)(a,"GMC",""),Object(h.a)(a,"email",""),Object(h.a)(a,"qualifications",""),Object(h.a)(a,"specialInterests",""),Object(h.a)(a,"website",""),Object(h.a)(a,"company",""),Object(h.a)(a,"cv",""),Object(h.a)(a,"medicoLegalSummary",""),Object(h.a)(a,"approved",!1),a))}))}else{var n;r((n={Fname:"",LName:"",jobTitle:"",area:""},Object(h.a)(n,"jobTitle",""),Object(h.a)(n,"medicoLegalSecrtaryPhone",""),Object(h.a)(n,"medicoLegalPostcode1",""),Object(h.a)(n,"emailMedicoLegalMatters",""),Object(h.a)(n,"GMC",""),Object(h.a)(n,"email",""),Object(h.a)(n,"qualifications",""),Object(h.a)(n,"specialInterests",""),Object(h.a)(n,"website",""),Object(h.a)(n,"company",""),Object(h.a)(n,"cv",""),Object(h.a)(n,"medicoLegalSummary",""),Object(h.a)(n,"approved",!1),n)),e.setAlert("New Expert created","success")}})).catch((function(t){e.setAlert(t.response.data.message,"danger")}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(e){"approved"==e.target.id?r(Object(O.a)(Object(O.a)({},s),{},{approved:e.target.checked})):r(Object(O.a)(Object(O.a)({},s),{},Object(h.a)({},e.target.name,e.target.value)))};return Object(n.useEffect)((function(){document.querySelector("#cv1").addEventListener("change",(function(e){var a="";a=e.target.files&&e.target.files.length>1?(e.target.getAttribute("data-multiple-caption")||"").replace("{count}",t.files.length):e.target.value.split(/\\/).pop(),document.querySelector("#fileno").innerHTML=a}))})),Object(d.jsxs)("div",{className:"modifyExpert",children:[Object(d.jsx)("div",{className:"modifyTitle",children:"Create Expert"}),Object(d.jsxs)("form",{onSubmit:i,className:"modify__form",children:[Object(d.jsxs)("div",{className:"firstRow row",children:[Object(d.jsxs)("select",{onChange:l,value:s.salutation,name:"salutation",id:"salutation",className:"salutation",children:[Object(d.jsx)("option",{value:"Dr",children:"Dr"}),Object(d.jsx)("option",{value:"Prof",children:"Prof"}),Object(d.jsx)("option",{value:"Ms",children:"Ms"}),Object(d.jsx)("option",{value:"Mr",children:"Mr"})]}),Object(d.jsx)("input",{onChange:l,value:s.Fname,placeholder:"First Name",type:"text",name:"Fname",id:"Fname",className:"Fname",required:!0}),Object(d.jsx)("input",{onChange:l,value:s.LName,placeholder:"Last Name",type:"text",name:"LName",id:"LName",className:"Lname",required:!0}),Object(d.jsx)("input",{onChange:l,value:s.approved,type:"checkbox",name:"approved",id:"approved",checked:!!s.approved}),Object(d.jsx)("label",{htmlFor:"approved",children:"Verified"})]}),Object(d.jsxs)("div",{className:"secondRow row",children:[Object(d.jsx)("input",{onChange:l,value:s.GMC,placeholder:"GMC/ HCPC#",type:"text",id:"GMC",name:"GMC",required:!0}),Object(d.jsx)("input",{id:"cv1",className:"cv",type:"file","data-multiple-caption":"{count} files selected",multiple:!0}),Object(d.jsx)("label",{htmlFor:"cv1",children:"Upload Cv"}),Object(d.jsx)("label",{htmlFor:"cv1",id:"fileno"})]}),Object(d.jsxs)("div",{className:"row inserted",children:[Object(d.jsx)("input",{type:"text",placeholder:"Job Title",name:"jobTitle",id:"jobTitle",required:!0,onChange:l,value:s.jobTitle}),Object(d.jsx)("input",{type:"text",placeholder:"Area",name:"area",id:"area",required:!0,onChange:l,value:s.area})]}),Object(d.jsxs)("div",{className:"thirdRow row",children:[Object(d.jsx)("input",{onChange:l,value:s.medicoLegalPostcode1,placeholder:"Postcode",type:"text",name:"medicoLegalPostcode1",id:"medicoLegalPostcode1",className:"medicoLegalPostcode1",required:!0}),Object(d.jsx)("input",{onChange:l,value:s.email,placeholder:"Email",type:"email",name:"email",id:"email",className:"email",required:!0}),Object(d.jsx)("input",{onChange:l,value:s.medicoLegalSecrtaryPhone,placeholder:"Contact No.",type:"text",name:"medicoLegalSecrtaryPhone",id:"medicoLegalSecrtaryPhone",className:"medicoLegalSecrtaryPhone",required:!0})]}),Object(d.jsx)("div",{className:"fourthRow row",children:Object(d.jsx)("input",{onChange:l,value:s.specialInterests,placeholder:"Special Interests",type:"text",className:"specialInterests",name:"specialInterests",id:"specialInterests",required:!0})}),Object(d.jsx)("div",{className:"fifthRow row",children:Object(d.jsx)("textarea",{onChange:l,value:s.medicoLegalSummary,placeholder:"Medico-legal Summary",className:"medicoLegalSummary",name:"medicoLegalSummary",id:"medicoLegalSummary",required:!0})}),Object(d.jsx)("button",{className:"btn-primary",children:"Save"})]})]})}));var N=Object(o.b)(null,{setAlert:v.setAlert})((function(e){var t=this,a=Object(n.useState)({salutation:"Dr",Fname:"",LName:"",jobTitle:"",area:"",medicoLegalSecrtaryPhone:"",medicoLegalPostcode1:"",emailMedicoLegalMatters:"",GMC:"",email:"",qualifications:"",specialInterests:"",website:"",company:"",cv:"",medicoLegalSummary:"",approved:!0}),c=Object(f.a)(a,2),s=c[0],r=c[1],i=Object(n.useState)(!1),o=Object(f.a)(i,2),u=o[0],j=o[1];Object(n.useEffect)((function(){Object(x.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.post("/api/experts/getFromAlgolia",{id:e.match.params.id});case 2:a=t.sent,r(Object(O.a)(Object(O.a)({},s),a.data.expert));case 4:case"end":return t.stop()}}),t)})))()}),[]);var m=function(){var t=Object(x.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),"/api/experts/updateExpert",n=document.querySelector("#cv1"),y()({method:"PUT",url:"/api/experts/updateExpert",headers:{id:e.match.params.id,"Content-Type":"application/json"},data:Object(O.a)({},s)}).then((function(t){if(n.files.length){var a=new FormData;a.append("".concat(s.Fname,"-").concat(s.medicoLegalSecrtaryPhone),n.files[0]),y()({method:"POST",url:"/api/experts/updateCv",headers:{id:t.data.id,filename:"".concat(s.Fname,"-").concat(s.medicoLegalSecrtaryPhone)},data:a}).then((function(t){e.setAlert("Profile Edited Successfully","success"),j(!0)}))}else e.setAlert("Profile Updated Successfully","success"),j(!0)})).catch((function(t){e.setAlert(t.response.data.message,"danger")}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(e){"approved"==e.target.id?r(Object(O.a)(Object(O.a)({},s),{},{approved:e.target.checked})):r(Object(O.a)(Object(O.a)({},s),{},Object(h.a)({},e.target.name,e.target.value)))};return Object(n.useEffect)((function(){var e=document.querySelector("#cv1");e&&e.addEventListener("change",(function(e){var a="";a=e.target.files&&e.target.files.length>1?(e.target.getAttribute("data-multiple-caption")||"").replace("{count}",t.files.length):e.target.value.split(/\\/).pop(),document.querySelector("#fileno").innerHTML=a}))}),[]),u?Object(d.jsx)(l.a,{to:"/admin/expertWitness"}):Object(d.jsxs)("div",{className:"modifyExpert",children:[Object(d.jsx)("div",{className:"modifyTitle",children:"Edit Profile"}),Object(d.jsxs)("form",{onSubmit:m,className:"modify__form",children:[Object(d.jsxs)("div",{className:"firstRow row",children:[Object(d.jsxs)("select",{onChange:b,value:s.salutation,name:"salutation",id:"salutation",className:"salutation",children:[Object(d.jsx)("option",{value:"Dr",children:"Dr"}),Object(d.jsx)("option",{value:"Prof",children:"Prof"}),Object(d.jsx)("option",{value:"Ms",children:"Ms"}),Object(d.jsx)("option",{value:"Mr",children:"Mr"})]}),Object(d.jsx)("input",{onChange:b,value:s.Fname,placeholder:"First Name",type:"text",name:"Fname",id:"Fname",className:"Fname",required:!0}),Object(d.jsx)("input",{onChange:b,value:s.LName,placeholder:"Last Name",type:"text",name:"LName",id:"LName",className:"Lname",required:!0}),Object(d.jsx)("input",{onChange:b,value:s.approved,type:"checkbox",name:"approved",id:"approved",checked:!!s.approved}),Object(d.jsx)("label",{htmlFor:"approved",children:"Verified"})]}),Object(d.jsxs)("div",{className:"secondRow row",children:[Object(d.jsx)("input",{onChange:b,value:s.GMC,placeholder:"GMC/ HCPC#",type:"text",id:"GMC",name:"GMC",required:!0}),Object(d.jsx)("input",{id:"cv1",className:"cv",type:"file","data-multiple-caption":"{count} files selected",multiple:!0}),Object(d.jsx)("label",{htmlFor:"cv1",children:"Upload Cv"}),Object(d.jsx)("label",{htmlFor:"cv1",id:"fileno"})]}),Object(d.jsxs)("div",{className:"row inserted",children:[Object(d.jsx)("input",{type:"text",placeholder:"Job Title",name:"jobTitle",id:"jobTitle",required:!0,onChange:b,value:s.jobTitle}),Object(d.jsx)("input",{type:"text",placeholder:"Area",name:"area",id:"area",required:!0,onChange:b,value:s.area})]}),Object(d.jsxs)("div",{className:"thirdRow row",children:[Object(d.jsx)("input",{onChange:b,value:s.medicoLegalPostcode1,placeholder:"Postcode",type:"text",name:"medicoLegalPostcode1",id:"medicoLegalPostcode1",className:"medicoLegalPostcode1",required:!0}),Object(d.jsx)("input",{onChange:b,value:s.email,placeholder:"Email",type:"email",name:"email",id:"email",className:"email",required:!0}),Object(d.jsx)("input",{onChange:b,value:s.medicoLegalSecrtaryPhone,placeholder:"Contact No.",type:"text",name:"medicoLegalSecrtaryPhone",id:"medicoLegalSecrtaryPhone",className:"medicoLegalSecrtaryPhone",required:!0})]}),Object(d.jsx)("div",{className:"fourthRow row",children:Object(d.jsx)("input",{onChange:b,value:s.specialInterests,placeholder:"Special Interests",type:"text",className:"specialInterests",name:"specialInterests",id:"specialInterests",required:!0})}),Object(d.jsx)("div",{className:"fifthRow row",children:Object(d.jsx)("textarea",{onChange:b,value:s.medicoLegalSummary,placeholder:"Medico-legal Summary",className:"medicoLegalSummary",name:"medicoLegalSummary",id:"medicoLegalSummary",required:!0})}),Object(d.jsx)("button",{className:"btn-primary",children:"Save"})]})]})})),S=a(91),w=a(21),E=a.n(w);a(43);var L=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),r=Object(f.a)(s,2),i=r[0],l=r[1],o=E()("OZ6NPSESCS","155946d19b7f7ba05b54384df1e85c71").initIndex("experts"),u=Object(n.useState)(""),m=Object(f.a)(u,2),b=m[0],h=m[1];return Object(n.useEffect)((function(){var e;e=b,o.setSettings({searchableAttributes:["Fname","LName","jobTitle","specialInterest","qualification","area"]}),o.search(e,{hitsPerPage:500}).then((function(e){c(e.hits.splice(0,50)),l(!1)}))}),[b]),Object(d.jsxs)("div",{className:"expertWitnesses",children:[Object(d.jsxs)("div",{style:{display:"flex"},className:"expertActions",children:[Object(d.jsx)("form",{autoComplete:"off",className:"search",children:Object(d.jsx)("input",{value:b,onChange:function(e){l(!0),h(e.target.value)},type:"text",name:"expert",id:"expert",placeholder:"Search"})}),Object(d.jsx)("a",{href:"/admin/createExpert",children:Object(d.jsx)("button",{style:{display:"flex",alignItems:"center",alignSelf:"flex-end",width:"8rem"},className:"button btn-primary",children:"Add Expert"})})]}),Object(d.jsxs)("div",{className:"results",children:[Object(d.jsxs)("div",{className:"total",children:[a.length," results..."]}),Object(d.jsx)("div",{className:"content_items",children:i?Object(d.jsx)(j,{}):a.length?a.map((function(e,t){return Object(d.jsxs)("div",{className:"single_item",children:[Object(d.jsxs)("div",{className:"details",children:[Object(d.jsxs)("div",{className:"row1",children:[Object(d.jsxs)("div",{className:"name",children:[e.salutation," ",e.Fname," ",e.LName]}),Object(d.jsx)("div",{className:"jobTitle",children:e.jobTitle}),Object(d.jsx)("div",{style:{textDecoration:"underline"},className:"email",children:e.email?e.email:e.emailMedicoLegalMatters?e.emailMedicoLegalMatters:null})]}),Object(d.jsxs)("div",{className:"row2",children:[Object(d.jsx)("div",{className:"phone",children:e.medicoLegalSecrtaryPhone?e.medicoLegalSecrtaryPhone:null}),Object(d.jsx)("div",{style:{cursor:"pointer"},className:"cv",children:e.cv?Object(d.jsx)("a",{style:{color:"rgba(17, 75, 224, 1)"},onClick:Object(x.a)(p.a.mark((function t(){var a,n,c,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/experts/downloadCv",{method:"PUT",headers:{"Content-Type":"application/json","x-auth-token":localStorage.getItem("x-auth-token")},body:JSON.stringify({id:e.objectID})});case 2:return a=t.sent,t.next=5,a.blob();case 5:n=t.sent,c=window.URL.createObjectURL(new Blob([n])),(s=document.createElement("a")).href=c,s.setAttribute("download",e.cv),document.body.appendChild(s),s.click(),s.parentNode.removeChild(s);case 13:case"end":return t.stop()}}),t)}))),children:e.cv}):"--"})]})]}),Object(d.jsx)("div",{className:"actions",children:Object(d.jsx)("div",{className:"approve",children:Object(d.jsx)("a",{href:"/admin/editExpert/".concat(e.objectID),children:"Edit"})})})]},Object(S.a)())})):Object(d.jsx)("h4",{style:{textAlign:"center"},children:"No Experts found"})})]})]})};var C=function(){var e=E()("OZ6NPSESCS","155946d19b7f7ba05b54384df1e85c71").initIndex("lawProfessionals"),t=Object(n.useState)([]),a=Object(f.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(""),i=Object(f.a)(r,2),l=i[0],o=i[1],u=Object(n.useState)({}),j=Object(f.a)(u,2),m=j[0],b=j[1],p=function(t){e.search(t,{hitsPerPage:100}).then((function(e){s(e.hits.splice(0,50))}))};return Object(n.useEffect)((function(){p("")}),[]),Object(d.jsxs)("div",{className:"lawProfessionals",children:[Object(d.jsx)("form",{onSubmit:function(e){e.preventDefault()},autoComplete:"off",className:"search",children:Object(d.jsx)("input",{type:"text",name:"professionals",id:"professionals",placeholder:"Search",value:l,onChange:function(e){o(e.target.value),p(e.target.value)}})}),Object(d.jsxs)("div",{className:"results",children:[Object(d.jsxs)("div",{className:"total",children:[c.length," results..."]}),Object(d.jsx)("div",{className:"content_items",children:c.length?c.map((function(e,t){return Object(d.jsxs)("div",{className:"single_item",children:[Object(d.jsxs)("div",{className:"details",children:[Object(d.jsx)("div",{className:"name",children:e.name}),Object(d.jsx)("div",{style:{textDecoration:"underline"},className:"email",children:e.email}),Object(d.jsx)("div",{className:"phone",children:e.medicoLegalSecrtaryPhone})]}),Object(d.jsxs)("div",{className:"actions",children:[Object(d.jsx)("div",{className:"approve",children:"Edit"}),Object(d.jsxs)("p",{style:{marginLeft:"-20px",color:"rgba(17, 75, 224, 1)"},children:[" ","/"]}),Object(d.jsx)("div",{onClick:function(){b(Object(O.a)(Object(O.a)({},m),{},Object(h.a)({},"index".concat(t),!0))),y.a.put("/api/users/deleteUser",{id:e.objectID}).then((function(a){var n=c.filter((function(t){return t.objectID!==e.objectID}));s(n),b(Object(O.a)(Object(O.a)({},m),{},Object(h.a)({},"index".concat(t),!1)))}))},className:"decline",children:m["index".concat(t)]?"Removing...":"Remove"})]})]},Object(S.a)())})):Object(d.jsx)("h4",{style:{textAlign:"center"},children:"No professionals found"})})]})]})};a(43);var k=function(){var e=Object(n.useState)(!1),t=Object(f.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),r=Object(f.a)(s,2),i=r[0],l=r[1],o=Object(n.useState)({}),u=Object(f.a)(o,2),m=u[0],b=u[1],v=Object(n.useState)({}),g=Object(f.a)(v,2),A=g[0],N=g[1];return Object(n.useEffect)((function(){c(!0),y.a.get("/api/experts/getUnapproved").then((function(e){l(e.data.experts),c(!1)})).catch((function(e){c(!1)}))}),[]),a?Object(d.jsx)(j,{}):Object(d.jsxs)("div",{className:"results",children:[Object(d.jsxs)("div",{className:"total",children:[i.length," results..."]}),Object(d.jsx)("div",{className:"content_items",children:i.length?i.map((function(e,t){return Object(d.jsxs)("div",{className:"single_item",children:[Object(d.jsxs)("div",{className:"details",children:[Object(d.jsxs)("div",{className:"row1",children:[Object(d.jsxs)("div",{className:"name",children:[e.salutation," ",e.Fname," ",e.LName]}),Object(d.jsx)("div",{className:"jobTitle",children:e.jobTitle}),Object(d.jsx)("div",{style:{textDecoration:"underline"},className:"email",children:e.email})]}),Object(d.jsxs)("div",{className:"row2",children:[Object(d.jsx)("div",{className:"phone",children:e.medicoLegalSecrtaryPhone}),Object(d.jsx)("div",{style:{textDecoration:"underline",cursor:"pointer"},className:"cv",children:e.cv?Object(d.jsx)("a",{style:{color:"rgba(17, 75, 224, 1)"},onClick:Object(x.a)(p.a.mark((function t(){var a,n,c,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/experts/downloadCv",{method:"PUT",headers:{"Content-Type":"application/json","x-auth-token":localStorage.getItem("x-auth-token")},body:JSON.stringify({id:e._id})});case 2:return a=t.sent,t.next=5,a.blob();case 5:n=t.sent,c=window.URL.createObjectURL(new Blob([n])),(s=document.createElement("a")).href=c,s.setAttribute("download",e.cv),document.body.appendChild(s),s.click(),s.parentNode.removeChild(s);case 13:case"end":return t.stop()}}),t)}))),children:e.cv}):"--"})]})]}),Object(d.jsxs)("div",{className:"actions",children:[Object(d.jsx)("div",{onClick:function(){b(Object(O.a)(Object(O.a)({},m),{},Object(h.a)({},"index".concat(t),!0))),y.a.put("/api/experts/approve",{id:e._id}).then((function(a){var n=i.filter((function(t){return t._id!==e._id}));l(n),b(Object(O.a)(Object(O.a)({},m),{},Object(h.a)({},"index".concat(t),!1)))}))},className:"approve",children:m["index".concat(t)]?"Approving...":"Approve"}),Object(d.jsx)("div",{onClick:function(){N(Object(O.a)(Object(O.a)({},A),{},Object(h.a)({},"index".concat(t),!0))),y.a.put("/api/experts/deleteExpert",{id:e._id}).then((function(a){var n=i.filter((function(t){return t._id!==e._id}));l(n),N(Object(O.a)(Object(O.a)({},A),{},Object(h.a)({},"index".concat(t),!1)))}))},className:"decline",children:A["index".concat(t)]?"Declining...":"Decline"})]})]},Object(S.a)())})):Object(d.jsx)("h4",{style:{textAlign:"center"},children:"No new Experts"})})]})};var I=function(){var e=Object(n.useState)(!1),t=Object(f.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),r=Object(f.a)(s,2),i=r[0],l=r[1],o=Object(n.useState)({}),u=Object(f.a)(o,2),m=u[0],b=u[1],p=Object(n.useState)({}),x=Object(f.a)(p,2),v=x[0],g=x[1];return Object(n.useEffect)((function(){c(!0),y.a.get("/api/users/getUnapproved").then((function(e){l(e.data.users),c(!1)})).catch((function(e){c(!1)}))}),[]),a?Object(d.jsx)(j,{}):Object(d.jsxs)("div",{className:"results",children:[Object(d.jsxs)("div",{className:"total",children:[i.length," results..."]}),Object(d.jsx)("div",{className:"content_items",children:i.length?i.map((function(e,t){return Object(d.jsxs)("div",{className:"single_item",children:[Object(d.jsxs)("div",{className:"details",children:[Object(d.jsx)("div",{className:"name",children:e.name}),Object(d.jsx)("div",{className:"email",children:e.email})]}),Object(d.jsxs)("div",{className:"actions",children:[Object(d.jsx)("div",{onClick:function(){b(Object(O.a)(Object(O.a)({},m),{},Object(h.a)({},"index".concat(t),!0))),y.a.put("/api/users/approve",{id:e._id}).then((function(a){var n=i.filter((function(t){return t._id!==e._id}));l(n),b(Object(O.a)(Object(O.a)({},m),{},Object(h.a)({},"index".concat(t),!1)))}))},className:"approve",children:m["index".concat(t)]?"Approving...":"Approve"}),Object(d.jsx)("div",{onClick:function(){g(Object(O.a)(Object(O.a)({},v),{},Object(h.a)({},"index".concat(t),!0))),y.a.put("/api/users/deleteUser",{id:e._id}).then((function(a){var n=i.filter((function(t){return t._id!==e._id}));l(n),g(Object(O.a)(Object(O.a)({},v),{},Object(h.a)({},"index".concat(t),!1)))}))},className:"decline",children:v["index".concat(t)]?"Declining...":"Decline"})]})]},Object(S.a)())})):Object(d.jsx)("h4",{style:{textAlign:"center"},children:"No new Users"})})]})};var R=Object(o.b)((function(e){return{auth:e.auth}}))((function(e){return Object(n.useEffect)((function(){var e=document.getElementById("simplenav");return setTimeout((function(){e&&(e.style.display="none")})),function(){e.style.display="block"}}),[]),e.auth.loading?Object(d.jsx)("div",{id:"admin",children:Object(d.jsx)(j,{})}):e.auth.isAuthenticated&&e.auth.user.admin?Object(d.jsxs)("div",{id:"admin",children:[Object(d.jsx)(m,{}),Object(d.jsx)(i.a,{children:Object(d.jsxs)(l.d,{children:[Object(d.jsx)(l.b,{exact:!0,path:"/admin/",component:I}),Object(d.jsx)(l.b,{exact:!0,path:"/admin/newExperts",component:k}),Object(d.jsx)(l.b,{exact:!0,path:"/admin/lawProfessionals",component:C}),Object(d.jsx)(l.b,{exact:!0,path:"/admin/expertWitness",component:L}),Object(d.jsx)(l.b,{exact:!0,path:"/admin/createExpert",component:A}),Object(d.jsx)(l.b,{exact:!0,path:"/admin/editExpert/:id",component:N})]})})]}):Object(d.jsx)(l.a,{to:"/"})})),T=(a(83),a.p+"static/media/ai.744c5468.png"),P=a(18);function q(e){var t=e.profession,a=e.location,c=Object(n.useState)({profession:t,location:a}),s=Object(f.a)(c,2),r=s[0],i=s[1],l=Object(n.useState)([]),o=Object(f.a)(l,2),u=o[0],j=o[1],m=Object(n.useState)([]),b=Object(f.a)(m,2),v=b[0],g=b[1],y=E()("OZ6NPSESCS","155946d19b7f7ba05b54384df1e85c71").initIndex("experts");Object(n.useEffect)((function(){i(Object(O.a)(Object(O.a)({},r),{},{profession:t,location:a}))}),[]);var A=function(){var t=Object(x.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.getExperts(r);case 3:e.setSearched(!0);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(e){var t,a;e.target.style.borderRadius="16px !important",i(Object(O.a)(Object(O.a)({},r),{},Object(h.a)({},e.target.name,e.target.value))),""===e.target.value?"profession"===e.target.name?g([]):j([]):(t=e.target.name,a=e.target.value,"profession"===t?(y.setSettings({searchableAttributes:["jobTitle","qualifications","specialInterest","unordered(area)"]}),y.search(a).then((function(e){var t=e.hits.map((function(e){return e.jobTitle})),a=[];t.forEach((function(e){a.includes(e)||a.push(e)}));var n=a.splice(0,20);g([]),g(Object(P.a)(n))}))):"location"===t&&(y.setSettings({searchableAttributes:["area"]}),y.search(a).then((function(e){var t=e.hits.map((function(e){return e.area})),a=[];t.forEach((function(e){a.includes(e)||a.push(e)}));var n=a.splice(0,20);j(Object(P.a)(n))}))))};return Object(d.jsxs)("form",{onSubmit:A,autoComplete:"off",className:"searchForm",children:[Object(d.jsxs)("div",{className:"searchbar profession",children:[Object(d.jsxs)("div",{className:"inputElements",children:[Object(d.jsx)("input",{onFocus:function(e){0===v.length&&(e.target.style.borderRadius="16px")},type:"text",name:"profession",id:"profession",placeholder:"Profession",required:!0,value:r.profession,onChange:N}),Object(d.jsx)("div",{className:"icon prof-icon",children:Object(d.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAATCAYAAAB2pebxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHASURBVHgBlVRBTipBEH3VEDF/xQ3+/BvMX7sBMSbGhY66FxMTMS7UE4AnUBYGdYOujWlYmWh0vIHcwPEGxJWSoctqEDIyMOhLJpmpqn71qrpqCBNQu77PUVptAuQAHFCXmzsbC41xsTTOeN70y2y4EvfwSckrHE4lqd08FElRHRNAhg931gsnUZsaDVKK9pEAVrQSOxMLAlwkI/cTkjYSQGP8MRJhaSIBDGpMJyGqJKgJxHc0lWTXywfC9F9kt0ZcT6Ii3/eP5EUCatp3gNA+wa63FEyKU5Mcda2zwDssAaaAvme+dQgz5fTMbCXsfFzi+3XacrYIpszoHEWVDZXIqMueZJ6Ft4jkvEVC5qUfHyGxyya7cimysmCubi/PvRqY6uCWbJMzIM82Veyetdt4e25IQunUYFeC0lrh4Ew/1BkmkKmoWmMoZXQU9s/044u1E/PV17lyj+RC39kxd75I2sfal4ZSTiHlDpTsefkWDK/aOGXEzsM5yp1q31VhVzmRgt0/xhRL3vy/Wbw1FPrLeNpLxIF9Z8VtUvg77IcxLtW0/HyQ8qOtswp6/RnzHfOF3TwNMknWLH4JA27veYutTzSpuNSN5iLyAAAAAElFTkSuQmCC",alt:""})})]}),Object(d.jsx)("div",{className:"resultElements job",children:v.map((function(e){return Object(d.jsx)("div",{onClick:function(t){i(Object(O.a)(Object(O.a)({},r),{},{profession:e})),g([])},className:"resultElement job",children:e},Object(S.a)())}))})]}),Object(d.jsxs)("div",{className:"searchbar location",children:[Object(d.jsxs)("div",{className:"inputElements",children:[Object(d.jsx)("input",{onFocus:function(e){0===u.length&&(e.target.style.borderRadius="16px")},type:"text",name:"location",id:"location",placeholder:"Location",value:r.location,onChange:N}),Object(d.jsx)("div",{className:"icon loc-icon",children:Object(d.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAATCAYAAAB/TkaLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHLSURBVHgBrVRBTttAFH1/PFLVburewJygOULciHVjoa6hK+QV9AQ1JyAsqoRVYF21064qtUqdGwA3MCcAVhAUz2fG8UQW4NggnmTP+P95b/7/88eEBgy//+uSFJsABQBnPNfH8af16SoOrXIe/k6/subkIYmS7Sjce7LoN/W340Ge1Pl5nod1EYs6ksfe1lJA8x5jtkbgL8toPNGv48o6B4jel7Ms3ugl5XwwUv93zBhU/O0jBfNZoQ34Y5X6dj5UfwI23+Wu2X3KWCnfPnTfeAt/B1pfaaFPCV7qojW7TI1Qt4jS7glai6Mwq/I0eNcc4i9ZNd4URvZJ0GUcrb8b/ZwcmDQX6YK2lkmYGscbH7IHvNIvD39Mdmeg/WJvRypTvCaRvAZ/dNG5qF2NZ3h7UeUta6qJOqjBmzzv5phHVZuRCE3/bmIFxCone2Lfjq6VbNrADR67EK1FLSTkeDvqDRj82aZNeJU2cRpFTX07IzVR0IDpUSsYNHEkWoH6JNBHSzRG+hy8uChDnz8mOmXk4WIBhfaArA3NKHhx1EvkgoxLYj5mEgN39SzK+ZF9hioNAN0119D2aOB45n1gEj6q8mAXux9GW7j1dbw7KkDDkDpBRssAAAAASUVORK5CYII=",alt:""})})]}),Object(d.jsx)("div",{style:{minWidth:"100%"},className:"resultElements area",children:u.map((function(e){return Object(d.jsx)("div",{onClick:function(t){i(Object(O.a)(Object(O.a)({},r),{},{location:e})),j([])},className:"resultElement",children:e},Object(S.a)())}))})]}),Object(d.jsx)("button",{style:{display:"none"},type:"submit",children:"Submit"})]})}var U=c.a.memo(q);var F=function(e){var t=e.getExperts,a=e.setSearched;return Object(d.jsxs)("div",{className:"searchContainer",children:[Object(d.jsxs)("div",{className:"searchPageTitle",children:[Object(d.jsx)("h3",{className:"text",children:"Find your expert witness"}),Object(d.jsx)("img",{src:T,alt:"logo"})]}),Object(d.jsx)("div",{className:"center",children:Object(d.jsx)(U,{getExperts:t,setSearched:a})}),Object(d.jsxs)("a",{style:{textDecoration:"none"},href:"/getlisted",className:"bottomText",children:["Get listed as an expert"," "]})]})},G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAATCAYAAACdkl3yAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIbSURBVHgBlZTfedNADMClS0oovHgEMwHhsS1QhwUSJsCZIO0C5AwD0ExAMkHcBfB99Ev6SEbwBuStEOoT0jl2nD/11+rBvjtJP+l0ukOokUDfBKCanxSPrb2fGP3OPGSL+86JB+ooRGp0ASjYUaeEFIFdGaM76UGQRFdw1CXMQl72GLIkghGrYgC15LlGhHOe+6JDVLG1f6ICiJIB4vNpGZ3AkLLXYF+OjX6z3M94FiLiMAcywAHv+gz62UNsTpEgtpCN6uqwDZT6NQbs1yOiPtex4YniKRARZ2uzUTFvblTKh9oMEl/B8cDCndRlvWXy8n+2lJNdOAxAuw6E2JoS2gveQbBZbax9UECr1LFRvd7OYN4rxh++zL/xr41EnM37eENX5/ngfuGOP4huEwRqE/19JWmXB6BQW7G3pAkhNp9PP1aDdaLZbyC1SPRJR7kVm13z1wNqhTJ1UclOiAEC4aUU7HF/O+NZKP3GrTJZl0ZC/hu7JlPYLQwT/TYUmECIsLPbU+te4iSUcfNKBC1KsnBpotMrqJHg63yAFq6kZj/0md5k5GQlzikqGDL0wROUNhCI2Fp4UQYsQVJk7lApJl8ZnIrDQQi2EhnvbldVDY0+W0i789A5uGtQQm4CxGe/RCc2Rp+kVd+9Z8Q5DecXqGgop8LZjfkV8PNL7V6ESw443vU5CMozuPVZ+x2rrwLgXiaPFil8XfEL+Q/adgZXcKTnPgAAAABJRU5ErkJggg==";a(84);var M=function(e){var t=e.email,a=e.setPopup,c=Object(n.useState)(!1),s=Object(f.a)(c,2),r=s[0],i=s[1];return Object(n.useEffect)((function(){var e=document.querySelector("#overlay");return console.log(e),e.style.display="block",function(){e.style.display="none"}}),[]),Object(d.jsx)("div",{className:"popup",children:Object(d.jsxs)("div",{className:"cPop",children:[Object(d.jsx)("p",{onClick:function(){return a(!1)},className:"cut",children:"X"}),Object(d.jsx)("div",{style:{display:r?"block":"none"},className:"email",children:t}),Object(d.jsx)("button",{onClick:function(){return i(!r)},className:"button btn-primary",children:r?"Hide":"Reveal Email"})]})})};var D=Object(o.b)(null,{setAlert:v.setAlert})((function(e){var t=e.featured,a=e.isAuthenticated,c=e.signup,s=e.setAlert,r=Object(n.useState)(!1),i=Object(f.a)(r,2),l=i[0],o=i[1];return Object(d.jsxs)("div",{className:"featured",children:[l&&Object(d.jsx)(M,{email:t.email||t.emailMedicoLegalMatters||"No Email For the expert",setPopup:o}),Object(d.jsxs)("div",{className:"title",children:[Object(d.jsxs)("div",{className:"name__title",children:[Object(d.jsxs)("p",{style:{fontWeight:500},className:"name",children:[t.salutation," ",t.Fname," ",t.LName]}),Object(d.jsx)("img",{src:G,alt:""})]}),Object(d.jsx)("div",{className:"area",children:"FAILED"!==t.area?t.area:null})]}),Object(d.jsx)("div",{style:{marginTop:"0.5rem"},className:"tags",children:t.specialInterests}),Object(d.jsxs)("div",{style:{marginTop:"1rem"},className:"summary",children:[Object(d.jsx)("div",{style:{fontWeight:500},className:"summary__title",children:"Medico-legal summary"}),Object(d.jsx)("p",{style:{fontSize:"16px"},className:"summary__content",children:t.medicoLegalSummary||"  Lorem ipsum dolor sit amet consectetur adipisicing elit. Vel consequatur eligendi similique optio! Eveniet, blanditiis libero. Nostrum optio maxime, nobis veniam facilis in at quam numquam ipsum assumenda reprehenderit laudantium nihil perspiciatis adipisci amet repudiandae consequatur labore quo id quia inventore fuga illo! Tenetur, ratione consectetur. Possimus non commodi omnis ducimus, dolor adipisci ab minus, necessitatibus blanditiis error explicabo numquam quae accusamus iure voluptatibus corporis nostrum placeat ea veniam nam. Dolore, itaque iure minima dolores doloremque ab similique nobis autem odit velit maxime reprehenderit consectetur ut voluptatibus? Ob"})]}),Object(d.jsxs)("div",{style:{display:"flex"},className:"buttons",children:[Object(d.jsx)("button",{onClick:function(){a?o(!0):c()},style:{width:"10rem"},className:"contact btn-primary",children:"Contact Me"}),a&&Object(d.jsx)("button",{style:{width:"10rem",marginLeft:"1rem"},className:"download btn-primary",onClick:Object(x.a)(p.a.mark((function e(){var a,n,c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.cv){e.next=16;break}return e.next=3,fetch("/api/experts/downloadCv",{method:"PUT",headers:{"Content-Type":"application/json","x-auth-token":localStorage.getItem("x-auth-token")},body:JSON.stringify({id:t.objectID})});case 3:return a=e.sent,e.next=6,a.blob();case 6:n=e.sent,c=window.URL.createObjectURL(new Blob([n])),(r=document.createElement("a")).href=c,r.setAttribute("download",t.cv),document.body.appendChild(r),r.click(),r.parentNode.removeChild(r),e.next=17;break;case 16:s("The expert doesnt have a Cv","danger");case 17:case"end":return e.stop()}}),e)}))),children:"Download Cv"})]})]})})),_=a(9).default,B=function(e){e?_.defaults.headers.common["x-auth-token"]=e:delete _.defaults.headers.common["x-auth-token"]},J=a(20),H=J.REGISTER_FAIL,Q=J.REGISTER_SUCCESS,V=J.USER_LOADED,Y=J.AUTH_ERROR,X=J.LOGIN_FAIL,W=J.LOGIN_SUCCESS,Z=J.LOG_OUT,z=J.TOGGLE_LOGIN,K=J.TOGGLE_SIGNUP,$=a(13).setAlert,ee=a(9).default,te=function(e){return function(t){t({type:z,payload:e})}},ae=function(e){return function(t){t({type:K,payload:e})}},ne=function(){return function(){var e=Object(x.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&B(localStorage.token),e.prev=1,e.next=4,ee.get("/api/auth");case 4:a=e.sent,t({type:V,payload:a.data.data.user}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:Y});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()};a(85);var ce=function(e){for(var t=e.totalPage,a=(e.page,e.setPage),c=[],s=1;s<=t;s++)c.push(s);var r=Object(n.useState)(1),i=Object(f.a)(r,2),l=i[0],o=i[1],u=Object(n.useState)([]),j=Object(f.a)(u,2),m=j[0],b=j[1];return Object(n.useEffect)((function(){var e=Object(P.a)(m),t="...",n="... ",s=" ...";if(c.length<6)e=c;else if(l>=1&&l<=3)e=[1,2,3,4,t,c.length];else if(4===l){var r=c.slice(0,5);e=[].concat(Object(P.a)(r),[t,c.length])}else if(l>4&&l<c.length-2){var i=c.slice(l-2,l),u=c.slice(l,l+1);e=[1,n].concat(Object(P.a)(i),Object(P.a)(u),[s,c.length])}else if(l>c.length-3){var d=c.slice(c.length-4);e=[1,n].concat(Object(P.a)(d))}else l===t?o(m[m.length-3]+1):l===s?o(m[3]+2):l===n&&o(m[3]-2);b(e),a(l)}),[l,t]),Object(d.jsxs)("div",{className:"pagination-container",children:[Object(d.jsx)("a",{href:"#",className:"".concat(1===l?"disabled":""),onClick:function(){return o((function(e){return e<=1?e:e-1}))},children:Object(d.jsx)("i",{className:"fas fa-angle-left",style:{marginRight:"1.5rem"}})}),m.map((function(e,t){return Object(d.jsx)("a",{href:"#",className:"".concat(l===e?"active":""),onClick:function(){return o(e)},children:e},t)})),Object(d.jsx)("a",{href:"#",className:"".concat(l===c.length?"disabled":""),onClick:function(){return o((function(e){return e>=c.length?e:e+1}))},children:Object(d.jsx)("i",{className:"fas fa-angle-right",style:{marginLeft:"1.5rem"},children:" "})})]})};var se=Object(o.b)((function(e){return{auth:e.auth}}),{showSignup:ae})((function(e){var t=e.incomingExperts,a=e.auth.isAuthenticated,c=e.showSignup,s=Object(n.useState)(!1),r=Object(f.a)(s,2),i=r[0],l=r[1],o=Object(n.useState)(Object(O.a)({},t[0])),u=Object(f.a)(o,2),j=u[0],m=u[1],b=Object(n.useState)(1),p=Object(f.a)(b,2),h=p[0],x=p[1],v=Object(n.useState)(7),g=Object(f.a)(v,2),y=g[0],A=(g[1],Math.ceil(t.length/y));Object(n.useEffect)((function(){l(!0)}),[]),Object(n.useEffect)((function(){a||x(1)}),[a]);var N=function(){c(!0)},w=(document.querySelector(".pagination ul"),t.slice((h-1)*y,h*y));return Object(d.jsxs)("div",{className:"searchContainer__found",children:[Object(d.jsxs)("p",{className:"total",children:[t.length," Results..."]}),Object(d.jsxs)("div",{className:"container__inner",children:[Object(d.jsxs)("div",{className:"experts",children:[w.map((function(e,t){return Object(d.jsxs)("div",{onClick:function(){return m(e)},className:"expert",children:[Object(d.jsxs)("div",{className:"title",children:[Object(d.jsxs)("div",{className:"name__title",children:[Object(d.jsxs)("p",{style:{fontWeight:500},className:"name",children:[e.salutation," ",e.Fname]}),Object(d.jsx)("img",{src:G,alt:""})]}),Object(d.jsx)("div",{className:"area",children:"FAILED"!==e.area?e.area:null})]}),Object(d.jsx)("div",{className:"tags",children:e.specialInterests})]},Object(S.a)())})),t.length>y&&!a?Object(d.jsx)("div",{onClick:N,id:"notAuthClick",className:"notAuthClick",children:Object(d.jsx)("p",{style:{fontWeight:"500"},children:"Register to see more experts"})}):t.length>y&&i?Object(d.jsx)(ce,{totalPage:A,page:h,setPage:x}):null]}),Object(d.jsx)(D,{signup:N,isAuthenticated:a,featured:j})]})]})}));var re=Object(o.b)(null,{setAlert:v.setAlert})((function(e){var t=Object(n.useState)({job:"",area:""}),a=Object(f.a)(t,2),c=a[0],s=a[1],r=E()("OZ6NPSESCS","155946d19b7f7ba05b54384df1e85c71").initIndex("experts"),i=Object(n.useState)([]),l=Object(f.a)(i,2),o=l[0],u=l[1],j=Object(n.useState)(!1),m=Object(f.a)(j,2),b=m[0],h=m[1],O=Object(n.useState)(!1),v=Object(f.a)(O,2),g=v[0],y=v[1];r.setSettings({searchableAttributes:["jobTitle","specialInterest","qualification"],paginationLimitedTo:5e3});var A=function(t){var a=t.newJob,n=t.newArea;Object(x.a)(p.a.mark((function t(){var s,i,l,o,d;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=5,i=[],l=[],o=!0,d=function t(){return new Promise(function(){var d=Object(x.a)(p.a.mark((function d(j,m){var b,h;return p.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(a||n){d.next=4;break}return y(!1),e.setAlert("Please include Job Title and Area","danger"),d.abrupt("return");case 4:return y(!0),document.getElementById("simplenav").style.display="block",d.next=8,r.search(c.job,{hitsPerPage:1e3});case 8:b=d.sent,console.log(b),h=b.nbPages,function(){return new Promise((function(e,t){for(var c=function(t){r.search(a,{hitsPerPage:1e3,page:t}).then(function(){var a=Object(x.a)(p.a.mark((function a(c){return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:console.log(c),c.hits.forEach((function(e){if(!e.area||l.includes(e.objectID))return null;n?(e.area.toLowerCase().includes(n.toLowerCase())||n.toLowerCase().includes(e.area.toLowerCase()))&&(l.push(e.objectID),i.push(e)):(l.push(e.objectID),i.push(e))})),t==h&&(console.log(i),setTimeout((function(){e(!0)}),2e3));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},s=0;s<=h;s++)c(s)}))}().then(Object(x.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s>0)||i.length){e.next=6;break}return s--,e.next=4,t();case 4:e.next=19;break;case 6:if(!o||i.length){e.next=14;break}return o=!1,n=a.split(" "),a=n[n.length-1],e.next=12,t();case 12:e.next=19;break;case 14:return e.next=16,u([].concat(i));case 16:return e.next=18,y(!1);case 18:j(!0);case 19:case"end":return e.stop()}}),e)}))));case 13:case"end":return d.stop()}}),d)})));return function(e,t){return d.apply(this,arguments)}}())},t.next=7,d();case 7:case"end":return t.stop()}}),t)})))()},N=function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({job:t.profession,area:t.location}),y(!0),e.next=4,A({newJob:t.profession,newArea:t.location});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"home",children:g?Object(d.jsx)("p",{style:{fontWeight:"600",fontSize:"3rem",color:"#18384c",textAlign:"center"},children:"Loading..."}):b?Object(d.jsxs)("div",{className:"searchContainer__full",children:[Object(d.jsx)(U,{setSearched:h,getExperts:N,profession:c.job,location:c.area}),o.length?Object(d.jsx)(se,{incomingExperts:o}):Object(d.jsxs)("div",{className:"searchContainer__notfound",children:["No Experts found",Object(d.jsx)("button",{onClick:function(){A({newJob:c.job,newArea:c.area})},style:{width:"10rem"},className:"btn-primary",children:"Retry"})]})]}):Object(d.jsx)(F,{getExperts:N,setSearched:h})})})),ie=(a(86),Object(o.b)((function(e){return{alerts:e.alert}}))((function(e){var t=e.alerts;return t.length>0&&t.map((function(e){return Object(d.jsx)("div",{style:{top:"".concat(window.scrollY+10,"px")},className:"alert alert-".concat(e.alertType),children:e.msg||"Internal Server Error"},e.id)}))}))),le=a(16),oe=a.n(le),ue=(a(44),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAPCAYAAAAGRPQsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABZSURBVHgB7Y/BDYAwDMQcxCBlItiAbkaZDDYJh+gCJfACS1abj5VAA+4+n/IECm1+EQ8qkv4gvT6T3pF77DLJog59HTJxBiJom6WeWYjw4VBHGyZXM8u8zQF+ao0jv+TBgQAAAABJRU5ErkJggg=="),de=function(e){e.login,e.isAuthenticated;var t=e.showSignup,a=e.showLogin,c=e.register,s=e.setAlert,i=Object(n.useState)(!1),l=Object(f.a)(i,2),o=l[0],j=l[1],m=Object(n.useState)({email:"",password:""}),b=Object(f.a)(m,2),v=b[0],g=b[1],y=v.name,A=v.email,N=v.password,S=v.passwordConfirm,w=function(e){return g(Object(O.a)(Object(O.a)({},v),{},Object(h.a)({},e.target.name,e.target.value)))},E=function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),j(!0),N!==S?(j(!1),s("Unmatched passwords","danger")):c(y,A,N,S,j);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=document.querySelector("#root"),t=document.querySelector("body"),a=document.querySelector("#signup");return a.style.display="flex",a.style.background="rgba(0, 0, 0, 0.24)",a.style.margin="0 20px 20px 0",a.style.minHeight="100vh",t.style.overflow="hidden",a.style.zIndex="1000",e.style.pointerEvents="none",a.style.top="".concat(window.scrollY,"px"),function(){a.style.background="",a.style.margin="",a.style.minHeight="",t.style.overflow="",e.style.pointerEvents="auto",a.style.zIndex="-1",a.style.display="none"}}),[]),r.a.createPortal(Object(d.jsxs)("div",{className:"form",children:[Object(d.jsx)("p",{className:"remove",onClick:function(){t(!1)},children:"X"}),Object(d.jsx)("h3",{className:"form-title",children:"Register an account"}),Object(d.jsxs)("form",{className:"myform",onSubmit:function(e){return E(e)},children:[Object(d.jsx)("div",{className:"input-group",children:Object(d.jsx)("input",{type:"text",placeholder:"Full Name",name:"name",minLength:"3",value:y,onChange:function(e){return w(e)},required:!0})}),Object(d.jsx)("div",{className:"input-group",children:Object(d.jsx)("input",{type:"email",placeholder:"Email Address",name:"email",value:A,onChange:function(e){return w(e)},required:!0})}),Object(d.jsx)("div",{className:"input-group",children:Object(d.jsx)("input",{type:"password",placeholder:"Password",name:"password",minLength:"6",value:N,onChange:function(e){return w(e)},required:!0})}),Object(d.jsx)("div",{className:"input-group",children:Object(d.jsx)("input",{type:"password",placeholder:"Confirm Password",name:"passwordConfirm",minLength:"6",value:S,onChange:function(e){return w(e)},required:!0})}),Object(d.jsxs)("button",{type:"submit",className:"btn btn-primary",children:["Register",o?Object(d.jsx)("img",{src:u,alt:"spinner",style:{marginLeft:"7px",width:"35px",height:"35px"}}):Object(d.jsx)("img",{src:ue,alt:"spinner",style:{marginLeft:"7px",width:"15px",height:"15px"}})]})]}),Object(d.jsx)("p",{className:"my-1",onClick:function(){t(!1),a(!0)},children:"Have an account? Log in"})]}),document.getElementById("signup"))};de.prototypes={register:oe.a.func.isRequired,isAuthenticated:oe.a.bool};var je=Object(o.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{register:function(e,t,a,n,c){return function(){var s=Object(x.a)(p.a.mark((function s(r){var i,l,o,u,d,j;return p.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return i={headers:{"Content-Type":"application/json"}},l=JSON.stringify({name:e,email:t,password:a,passwordConfirm:n}),console.log(l),s.prev=3,s.next=6,ee.post("/api/users",l,i);case 6:o=s.sent,r({type:Q,payload:o.data.token}),B(o.data.token),localStorage.setItem("token",o.data.token),r($("User Registered Successfully","success")),u=document.querySelector("#root"),(d=document.querySelector("#signup")).style.background="",d.style.margin="",d.style.height="",u.style.pointerEvents="auto",r(ae(!1)),r(ne()),c(!1),s.next=29;break;case 22:s.prev=22,s.t0=s.catch(3),(j=s.t0.response.data.errors)&&j.forEach((function(e){return r($(e.message,"danger"))})),r($(s.t0.response.data.message,"danger")),c(!1),r({type:H});case 29:case"end":return s.stop()}}),s,null,[[3,22]])})));return function(e){return s.apply(this,arguments)}}()},showLogin:te,showSignup:ae,setAlert:v.setAlert})(de),me=function(e){var t=e.login,a=(e.isAuthenticated,e.showSignup),c=e.showLogin,s=Object(n.useState)(!1),i=Object(f.a)(s,2),l=i[0],o=i[1],j=Object(n.useState)({email:"",password:""}),m=Object(f.a)(j,2),b=m[0],v=m[1],g=b.email,y=b.password,A=function(e){return v(Object(O.a)(Object(O.a)({},b),{},Object(h.a)({},e.target.name,e.target.value)))},N=function(){var e=Object(x.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),o(!0),e.next=4,t(g,y,o);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=document.querySelector("#root"),t=document.querySelector("#login"),a=document.querySelector("body");return t.style.display="flex",t.style.background="rgba(0,0,0,0.24)",t.style.margin="0 20px 20px 0",a.style.overflow="hidden",t.style.zIndex="1000",t.style.top="".concat(window.scrollY,"px"),t.style.minHeight="100vh",function(){t.style.background="",t.style.margin="",t.style.minHeight="",e.style.pointerEvents="auto",a.style.overflow="",t.style.zIndex="-1",t.style.display="none"}}),[]),r.a.createPortal(Object(d.jsxs)("div",{className:"form",children:[Object(d.jsx)("p",{className:"remove",onClick:function(){c(!1)},children:"X"}),Object(d.jsx)("h3",{className:"form-title",children:"Sign In"}),Object(d.jsxs)("form",{className:"myform",onSubmit:function(e){return N(e)},children:[Object(d.jsx)("div",{className:"input-group",children:Object(d.jsx)("input",{type:"email",placeholder:"Email Address",name:"email",value:g,onChange:function(e){return A(e)},required:!0})}),Object(d.jsx)("div",{className:"input-group",children:Object(d.jsx)("input",{type:"password",placeholder:"Password",name:"password",minLength:"6",value:y,onChange:function(e){return A(e)},required:!0})}),Object(d.jsxs)("button",{type:"submit",className:"btn btn-primary",children:["Log In",l?Object(d.jsx)("img",{src:u,alt:"spinner",style:{marginLeft:"7px",width:"35px",height:"35px"}}):Object(d.jsx)("img",{src:ue,alt:"spinner",style:{marginLeft:"7px",width:"15px",height:"15px"}})]})]}),Object(d.jsx)("p",{className:"my-1",onClick:function(){c(!1),a(!0)},children:"Create an account here"})]}),document.getElementById("login"))};me.prototypes={login:oe.a.func.isRequired,isAuthenticated:oe.a.bool};var be=Object(o.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,t,a){return function(){var n=Object(x.a)(p.a.mark((function n(c){var s,r,i,l,o,u;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:e,password:t}),n.prev=2,n.next=5,ee.post("/api/auth",r,s);case 5:i=n.sent,localStorage.setItem("token",i.data.token),B(i.data.token),c(ne()),c({type:W,payload:i.data.token}),c($("User Logged In Successfully","success")),c(te(!1)),l=document.querySelector("#root"),(o=document.querySelector("#login")).style.background="",o.style.margin="",o.style.height="",l.style.pointerEvents="auto",a(!1),n.next=24;break;case 21:n.prev=21,n.t0=n.catch(2),n.t0.response&&(console.log(n.t0),(u=n.t0.response.data.errors)&&u.forEach((function(e){return c($(e.message,"danger"))})),c($(n.t0.response.data.message,"danger")),c({type:X}),a(!1));case 24:case"end":return n.stop()}}),n,null,[[2,21]])})));return function(e){return n.apply(this,arguments)}}()},showLogin:te,showSignup:ae})(me);a(87);var pe=Object(o.b)((function(){return{}}),{setAlert:v.setAlert})((function(e){var t=this,a=Object(n.useState)({salutation:"Dr",Fname:"",LName:"",jobTitle:"",medicoLegalSecrtaryPhone:"",email:"",GMC:"",qualifications:"",specialInterests:"",area:""}),c=Object(f.a)(a,2),s=c[0],r=c[1],i=function(e){r(Object(O.a)(Object(O.a)({},s),{},Object(h.a)({},e.target.name,e.target.value)))};Object(n.useEffect)((function(){document.querySelector("#cv").addEventListener("change",(function(e){var a="";a=e.target.files&&e.target.files.length>1?(e.target.getAttribute("data-multiple-caption")||"").replace("{count}",t.files.length):e.target.value.split(/\\/).pop(),document.querySelector("#fileno").innerHTML=a}))}));var l=function(){var t=Object(x.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),(n=new FormData).append("".concat(s.Fname,"-").concat(s.medicoLegalSecrtaryPhone),document.querySelector("#cv").files[0]),y.a.post("/api/experts",Object(O.a)({},s)).then(function(){var t=Object(x.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(a),y()({method:"POST",url:"/api/experts/postCv",headers:{id:a.data.expert._id,filename:"".concat(s.Fname,"-").concat(s.medicoLegalSecrtaryPhone)},data:n}).then((function(t){e.setAlert("Request submitted successfully","success"),r({salutation:"Dr",Fname:"",LName:"",jobTitle:"",medicoLegalSecrtaryPhone:"",email:"",GMC:"",qualifications:"",specialInterests:"",area:""})})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.setAlert(t.response.data.message,"danger")}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"getListed",children:Object(d.jsxs)("div",{className:"form-container",children:[Object(d.jsx)("h3",{children:"Get listed as an expert"}),Object(d.jsxs)("form",{onSubmit:l,children:[Object(d.jsxs)("div",{className:"firstRow",children:[Object(d.jsxs)("select",{onChange:i,value:s.salutation,className:"salutaion",name:"salutation",id:"salutaion",children:[Object(d.jsx)("option",{value:"Dr",children:"Dr"}),Object(d.jsx)("option",{value:"Prof",children:"Prof"}),Object(d.jsx)("option",{value:"Ms",children:"Ms"}),Object(d.jsx)("option",{value:"Mr",children:"Mr"})]}),Object(d.jsx)("input",{required:!0,className:"firstname",type:"text",name:"Fname",onChange:i,value:s.Fname,placeholder:"First Name"}),Object(d.jsx)("input",{required:!0,className:"lastname",type:"text",name:"LName",onChange:i,value:s.LName,placeholder:"Last Name"})]}),Object(d.jsxs)("div",{className:"secondRow",children:[Object(d.jsx)("input",{required:!0,className:"jobtitle",type:"text",name:"jobTitle",onChange:i,value:s.jobTitle,placeholder:"Job title"}),Object(d.jsx)("input",{required:!0,type:"email",name:"email",className:"email",onChange:i,value:s.email,placeholder:"Email"})]}),Object(d.jsxs)("div",{className:"thirdRow",children:[Object(d.jsx)("input",{required:!0,className:"area",type:"text",name:"area",vaue:s.area,onChange:i,placeholder:"Area"}),Object(d.jsx)("input",{required:!0,className:"phone",type:"text",onChange:i,name:"medicoLegalSecrtaryPhone",value:s.medicoLegalSecrtaryPhone,placeholder:"Contact number"}),Object(d.jsxs)("div",{className:"cv",children:[Object(d.jsx)("input",{required:!0,id:"cv",className:"cv",type:"file","data-multiple-caption":"{count} files selected",multiple:!0}),Object(d.jsx)("label",{htmlFor:"cv",children:"Upload Cv"}),Object(d.jsx)("label",{htmlFor:"cv",id:"fileno"})]})]}),Object(d.jsx)("div",{className:"fourthRow",children:Object(d.jsx)("input",{required:!0,className:"specialinterest",type:"text",name:"specialInterests",placeholder:"Special Interests",value:s.specialInterests,onChange:i})}),Object(d.jsx)("button",{type:"submit",children:"Submit"})]})]})})}));a(88);var he=Object(o.b)((function(e){return{auth:e.auth}}),{showLogin:te,showSignup:ae,logout:function(){return function(e){e({type:Z})}}})((function(e){var t=e.auth,a=t.isAuthenticated,n=(t.loading,t.user),c=e.showLogin,s=e.showSignup,r=e.logout,i=Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{className:"nav-collection",children:[Object(d.jsx)("li",{onClick:function(){s(!0),c(!1)},className:"nav-item",children:Object(d.jsx)("p",{className:"nav-link",children:"Register an account"})}),Object(d.jsx)("li",{onClick:function(){c(!0),s(!1)},className:"nav-item",children:Object(d.jsx)("p",{className:"nav-link",children:"Sign in"})})]})}),l=Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{className:"nav-collection",children:[Object(d.jsx)("li",{id:"username",className:"nav-item",children:n?n.name:"Shishir"}),Object(d.jsx)("li",{onClick:r,className:"nav-item",children:Object(d.jsx)("p",{className:"nav-link",children:" Logout"})})]})});return Object(d.jsx)("div",{id:"simplenav",className:"container",children:Object(d.jsx)(d.Fragment,{children:a?l:i})})}));localStorage.token&&B(localStorage.token);var Oe=Object(o.b)((function(e){return{auth:e.auth}}),{loaduser:ne})((function(e){var t=e.auth,a=t.showLogin,c=t.showSignup,s=e.loaduser;return Object(n.useEffect)((function(){s()}),[]),Object(d.jsxs)("div",{style:{zIndex:"100"},children:[Object(d.jsx)("div",{style:{height:"120vh",width:"100%",background:"#000",opacity:"0.2",position:"absolute",top:"0",overflowX:"hidden",zIndex:"1001",pointerEvents:"none"},className:"overlay",id:"overlay"}),Object(d.jsx)(ie,{}),Object(d.jsx)(he,{}),Object(d.jsxs)(i.a,{children:[Object(d.jsx)(l.b,{exact:!0,path:"/",component:re}),Object(d.jsx)(l.b,{path:"/admin",component:R}),Object(d.jsx)(l.b,{exact:!0,path:"/getlisted",component:pe})]}),a&&Object(d.jsx)(be,{}),c&&Object(d.jsx)(je,{})]})})),xe=a(24),fe=a(46),ve=a(47),ge=a(20),ye=ge.REGISTER_SUCCESS,Ae=ge.REGISTER_FAIL,Ne=ge.USER_LOADED,Se=ge.AUTH_ERROR,we=ge.LOGIN_SUCCESS,Ee=ge.LOGIN_FAIL,Le=ge.LOG_OUT,Ce=ge.TOGGLE_LOGIN,ke=ge.TOGGLE_SIGNUP,Ie={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null,setting:null,showLogin:!1,showSignup:!1},Re=a(20),Te=[],Pe=Object(xe.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case Re.SET_ALERT:return[].concat(Object(P.a)(e),[n]);case Re.REMOVE_ALERT:return e.filter((function(e){return e.id!==n}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case Ne:return Object(O.a)(Object(O.a)({},e),{},{isAuthenticated:!0,loading:!1,user:n});case ye:case we:return localStorage.setItem("token",n),Object(O.a)(Object(O.a)({},e),{},{token:n});case Ae:case Ee:case Le:case Se:return B(null),localStorage.removeItem("token"),Object(O.a)(Object(O.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1,user:null});case Ce:return Object(O.a)(Object(O.a)({},e),{},{showLogin:t.payload});case ke:return Object(O.a)(Object(O.a)({},e),{},{showSignup:t.payload});default:return e}}}),qe=[ve.a],Ue=Object(xe.createStore)(Pe,{},Object(fe.composeWithDevTools)(xe.applyMiddleware.apply(void 0,qe)));r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(o.a,{store:Ue,children:Object(d.jsx)(Oe,{})})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.f8c5a312.chunk.js.map